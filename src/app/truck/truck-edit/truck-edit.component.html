<ng-template [ngIf]="isError" [ngIfElse]="details">
  <div>
    <label><h3>Error occurred for while updating truck with id {{id}}:</h3></label>
    <label><h3>{{errorMessage}}:</h3></label>
  </div>
</ng-template>
<ng-template #details>
  <div class="form-create">
    <h3 class="text-center" style="font-size: 26px"><b>Update truck info</b></h3>
    <form (ngSubmit)="onSubmit()">

      <div class="form-group" [formGroup]="truckValidation" style="margin-top: 15px">
        <label><b>Model</b></label>
        <input type="text" class="form-control" id="surname" [(ngModel)]="truckUpdate.model" name="model"
               formControlName="modelCheck">
        <div
          *ngIf="modelCheck!.invalid && (modelCheck!.dirty || modelCheck!.touched)" class="validationAlert">
          <div>
            <div *ngIf="modelCheck?.errors?.['required']"> &#10008; Model should not be blank and should not exceed 30
              symbols
            </div>
            <div *ngIf="modelCheck?.errors?.['pattern']"> &#10008; Model should consist of Latin letters and can contain
              backspaces and/or digits
            </div>
          </div>
        </div>
      </div>

      <div class="form-group" [formGroup]="truckValidation" style="margin-top: 15px">
        <label><b>Max capacity, tons</b></label>
        <input type="text" class="form-control" id="capacity" [(ngModel)]="truckUpdate.capacity" name="capacity"
               formControlName="capacityCheck">
        <div
          *ngIf="capacityCheck!.invalid && (capacityCheck!.dirty || capacityCheck!.touched)" class="validationAlert">
          <div>
            <div *ngIf="capacityCheck?.errors?.['required']"> &#10008; Capacity required</div>
            <div *ngIf="capacityCheck?.errors?.['min']"> &#10008; Max capacity should be between 0.1 and 30.0 tons</div>
            <div *ngIf="capacityCheck?.errors?.['max']"> &#10008; Max capacity should be between 0.1 and 30.0 tons</div>
            <div *ngIf="capacityCheck?.errors?.['pattern']"> &#10008; Max capacity should be decimal number</div>
          </div>
        </div>
      </div>

      <div class="form-group" [formGroup]="truckValidation" style="margin-top: 15px">
        <label><b>Total operating time, years</b></label>
        <input type="text" class="form-control" id="work-experience" [(ngModel)]="truckUpdate.totalOperatingTime"
               name="totalOperatingTime" formControlName="totalOperatingTimeCheck">
        <div
          *ngIf="totalOperatingTimeCheck!.invalid && (totalOperatingTimeCheck!.dirty || totalOperatingTimeCheck!.touched)"
          class="validationAlert">
          <div>
            <div *ngIf="totalOperatingTimeCheck?.errors?.['required']"> &#10008; Total operating time experience required</div>
            <div *ngIf="totalOperatingTimeCheck?.errors?.['min']"> &#10008; Total operating time should be between 1 and 30 years
            </div>
            <div *ngIf="totalOperatingTimeCheck?.errors?.['max']"> &#10008; Total operating time should be between 1 and 30 years
            </div>
            <div *ngIf="totalOperatingTimeCheck?.errors?.['pattern']"> &#10008; Total operating time should be integer number</div>
          </div>
        </div>
      </div>
      <br>
      <label><b>Technical condition </b></label>
      <div class="form-group radio" style="margin-top: 15px" *ngFor="let techCondition of technicalCondition">
        <input type="radio"  id="role" [(ngModel)]="truckUpdate.technicalCondition" name="role" [value]='techCondition.techCondition'>
        <label><b>&nbsp; {{techCondition.techCondition}}</b></label>
      </div>

      <div class="form-group" [formGroup]="truckValidation" style="margin-top: 15px">
        <label><b>Current city</b></label>
        <input type="text" class="form-control" id="current-сity" [(ngModel)]="truckUpdate.currentCity" name="currentCity"
               formControlName="currentCityCheck">
        <div
          *ngIf="currentCityCheck!.invalid && (currentCityCheck!.dirty || currentCityCheck!.touched)" class="validationAlert">
          <div>
            <div *ngIf="currentCityCheck?.errors?.['required']"> &#10008; Current city required</div>
            <div *ngIf="currentCityCheck?.errors?.['maxlength']"> &#10008; Current city must be max 30 symbols long</div>
            <div *ngIf="currentCityCheck?.errors?.['pattern']"> &#10008; Current city format is incorrect</div>
          </div>
        </div>
      </div>

      <div class="form-group" [formGroup]="truckValidation" style="margin-top: 15px">
        <label><b>Current state</b></label>
        <input type="text" class="form-control" id="current-state" [(ngModel)]="truckUpdate.currentState" name="currentState"
               formControlName="currentStateCheck">
        <div
          *ngIf="currentStateCheck!.invalid && (currentStateCheck!.dirty || currentStateCheck!.touched)" class="validationAlert">
          <div>
            <div *ngIf="currentStateCheck?.errors?.['required']"> &#10008; Current state required</div>
            <div *ngIf="currentStateCheck?.errors?.['maxlength']"> &#10008; Current state must be max 30 symbols long</div>
            <div *ngIf="currentStateCheck?.errors?.['pattern']"> &#10008; Current state format is incorrect</div>
          </div>
        </div>
      </div>

      <button class="button">UPDATE</button>
    </form>
  </div>
</ng-template>
